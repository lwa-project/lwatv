6c6
< Version 3 of a GUI application to show LWATV (gstreamer 1.0).
---
> Version 2 of a GUI application to show LWATV (gstreamer 0.10).
25,28c25,27
< import gi
< gi.require_version('Gst', '1.0')
< from gi.repository import GObject, Gst
< from gi.repository import GstVideo
---
> import pygst
> pygst.require("0.10")
> import gst
30,31c29,30
< GObject.threads_init()
< Gst.init(None)
---
> import gobject
> gobject.threads_init()
106,108c105,106
< 		self.pipeline = Gst.Pipeline()
< 		self.player = Gst.ElementFactory.make("playbin", None)
< 		bus = self.pipeline.get_bus()
---
> 		self.player = gst.element_factory_make("playbin2", "player")
> 		bus = self.player.get_bus()
114d111
< 		self.pipeline.add(self.player)
116c113
< 			vs = Gst.ElementFactory.make("ximagesink", None)
---
> 			vs = gst.element_factory_make("ximagesink", None)
122c119
< 		self.pipeline.set_state(Gst.State.NULL)
---
> 		self.player.set_state(gst.STATE_NULL)
128c125
< 		if message.get_structure().get_name() == 'prepare-window-handle':
---
> 		if message.structure.get_name() == 'prepare-xwindow-id':
130,131c127,128
< 			message.src.set_window_handle(self.GetHandle())
< 			
---
> 			message.src.set_xwindow_id(self.GetHandle())
> 		
143,144c140,141
< 		for state in self.pipeline.get_state(0):
< 			if type(state) != type(Gst.State.PLAYING):
---
> 		for state in self.player.get_state():
> 			if type(state) != type(gst.STATE_PLAYING):
146c143
< 			if state == Gst.State.PLAYING:
---
> 			if state == gst.STATE_PLAYING:
163c160
< 			self.pipeline.set_state(Gst.State.NULL)
---
> 			self.player.set_state(gst.STATE_NULL)
165c162
< 			self.pipeline.set_state(Gst.State.PLAYING)
---
> 			self.player.set_state(gst.STATE_PLAYING)
168c165
< 		self.pipeline.set_state(Gst.State.NULL)
---
> 		self.player.set_state(gst.STATE_NULL)
171a169
> 
